version: 2

models:
  - name: base_globepay__pay_chargeback_report
    description: ""
    columns:
      - name: payment_external_id
        data_type: varchar
        description: "Unique identifier for the payment assigned by the external system. Used to track payments across other systems and serves as a reference to the external transaction."
        data_tests:
          - not_null

      - name: source_system
        data_type: varchar
        description: "The source system that processed the payment. Indicates which system the transaction comes from (e.g., Globepay)."
        data_tests:
          - not_null        

      - name: payment_key
        data_type: varchar
        description: "A surrogate key generated by combining the `payment_external_id` and `source_system`. Used to uniquely identify the payment transaction."
        data_tests:
          - dbt_constraints.primary_key
          - dbt_constraints.foreign_key:
              pk_table_name: ref('base_globepay__pay_acceptance_report')
              pk_column_name: payment_key          

      - name: was_payment_charged_back
        data_type: boolean
        description: "Indicates whether the payment was charged back (true) or not (false)."
        data_tests:
          - not_null        